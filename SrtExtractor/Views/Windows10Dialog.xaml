<Window x:Class="SrtExtractor.Views.Windows10Dialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="Windows 10 - Manual Installation Required"
        Height="500" Width="600"
        MinHeight="400" MinWidth="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="⚠️ Windows 10 Version Too Old" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="{StaticResource WarningBrush}" 
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"/>
            <TextBlock Text="Automatic tool installation requires Windows 10 version 1809 or later" 
                       FontSize="14" 
                       HorizontalAlignment="Center" 
                       Foreground="{StaticResource TextSecondaryBrush}"/>
        </StackPanel>
        
        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <TextBlock Text="SrtExtractor requires MKVToolNix to process MKV files, but winget (Windows Package Manager) requires Windows 10 version 1809 (build 17763) or later." 
                           TextWrapping="Wrap" 
                           Margin="0,0,0,20"
                           FontSize="14"/>
                
                <GroupBox Header="📥 Manual Installation Required" Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <TextBlock Text="Please download and install MKVToolNix manually:" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,10"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="1. " FontWeight="Bold" VerticalAlignment="Top"/>
                            <TextBlock Text="Visit: " VerticalAlignment="Top"/>
                            <Hyperlink NavigateUri="https://mkvtoolnix.download/downloads.html" 
                                        RequestNavigate="Hyperlink_RequestNavigate"
                                        FontWeight="Bold">
                                https://mkvtoolnix.download/downloads.html
                            </Hyperlink>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="2. " FontWeight="Bold" VerticalAlignment="Top"/>
                            <TextBlock Text="Download the Windows installer" VerticalAlignment="Top"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="3. " FontWeight="Bold" VerticalAlignment="Top"/>
                            <TextBlock Text="Run the installer and install to the default location" VerticalAlignment="Top"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="4. " FontWeight="Bold" VerticalAlignment="Top"/>
                            <TextBlock Text="Restart SrtExtractor - it will automatically detect the installation" VerticalAlignment="Top"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="ℹ️ Other Tools" Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <TextBlock Text="Subtitle Edit CLI and FFmpeg are included with SrtExtractor and don't require manual installation." 
                                   TextWrapping="Wrap" 
                                   Margin="0,0,0,10"/>
                        <TextBlock Text="Only MKVToolNix needs to be installed manually on Windows 10." 
                                   TextWrapping="Wrap" 
                                   FontStyle="Italic"/>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="🔄 After Installation">
                    <StackPanel Margin="10">
                        <TextBlock Text="Once MKVToolNix is installed:" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,5"/>
                        <TextBlock Text="• Click 'Re-detect Tools' in the main window" 
                                   Margin="20,0,0,2"/>
                        <TextBlock Text="• Or restart SrtExtractor completely" 
                                   Margin="20,0,0,2"/>
                        <TextBlock Text="• The app will automatically find MKVToolNix" 
                                   Margin="20,0,0,0"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Open Download Page" 
                    Click="OpenDownloadPage_Click" 
                    Style="{StaticResource PrimaryButton}" 
                    Padding="15,8" 
                    Margin="0,0,10,0"/>
            <Button Content="Close" 
                    Click="Close_Click"
                    Style="{StaticResource SecondaryButton}"
                    Padding="15,8"/>
        </StackPanel>
    </Grid>
</Window>
